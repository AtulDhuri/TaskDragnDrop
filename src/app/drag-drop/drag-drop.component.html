<div cdkDropList (cdkDropListDropped)="dropTable($event)" class="header-container">
  <div 
    *ngFor="let column of droppedColumns" 
    cdkDrag 
    cdkDragLockAxis="y"
  >
    {{ column }}
  </div>
</div>

<h2>Table</h2>
<table mat-table #table [dataSource]="dataSource" class="mat-elevation-z8"
cdkDropList
cdkDragLockAxis="y"
[cdkDropListData]="dataSource"
(cdkDropListDropped)="dropTable($event)">

<!--- Note that these columns can be defined in any order.
      The actual rendered columns are set as a property on the row definition" -->
<!-- Checkbox Column -->
<ng-container matColumnDef="select">
    <th mat-header-cell *matHeaderCellDef>
      <mat-checkbox (change)="$event ? selectAll($event.checked) : null"></mat-checkbox>
    </th>
    <td mat-cell *matCellDef="let element">
      <mat-checkbox [(ngModel)]="element.selected"></mat-checkbox>
    </td>
  </ng-container>
<!-- Position Column -->
<ng-container matColumnDef="srno">
  <th mat-header-cell *matHeaderCellDef> No. </th>
  <td mat-cell *matCellDef="let element">
    <mat-icon cdkDragHandle>reorder</mat-icon>
  </td>
</ng-container>

<!-- Name Column -->
<ng-container matColumnDef="name">
  <th mat-header-cell *matHeaderCellDef> Name </th>
  <td mat-cell *matCellDef="let element"> {{element.name}} </td>
</ng-container>

<!-- Weight Column -->
<ng-container matColumnDef="rollno">
  <th mat-header-cell *matHeaderCellDef> Roll Number </th>
  <td mat-cell *matCellDef="let element"> {{element.rollno}} </td>
</ng-container>

<!-- Symbol Column -->
<ng-container matColumnDef="std">
  <th mat-header-cell *matHeaderCellDef> Standard </th>
  <td mat-cell *matCellDef="let element"> {{element.std}} </td>
</ng-container>

<!-- Symbol Column -->
<ng-container matColumnDef="division">
    <th mat-header-cell *matHeaderCellDef> Division </th>
    <td mat-cell *matCellDef="let element"> {{element.division}} </td>
  </ng-container>

<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
<tr mat-row *matRowDef="let row; columns: displayedColumns;" cdkDrag [cdkDragData]="displayedColumns"></tr>
</table>